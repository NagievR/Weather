(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(17)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(4),i=n(1),o=n(0),s=n.n(o),l=n(5),u=n.n(l),m=(n(12),function(e){var t=Object(o.useState)("loading..."),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(o.useEffect)((function(){if(e.isLoaded){c(d(e.shiftUTC0));var t=setInterval((function(){c(d(e.shiftUTC0))}),1e3);return function(){return clearInterval(t)}}}),[e.isLoaded,e.shiftUTC0]),s.a.createElement("div",{className:"thin-small-font",id:"date"},a)});function d(e){return function(e){var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()],n=e.getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],c="0"+e.getHours(),r="0"+e.getMinutes(),i="0"+e.getSeconds();return"".concat(t,", ").concat(n," ").concat(a,", ")+"".concat(c.slice(-2),":").concat(r.slice(-2),":").concat(i.slice(-2))}(function(e,t){var n=Number(e);return new Date(n+1e3*t)}(function(){var e=new Date,t=e.getUTCFullYear(),n=e.getUTCMonth(),a=e.getUTCDate(),c=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds();return new Date(t,n,a,c,r,i)}(),e))}n(13);function f(e){var t=Math.round(e.feels),n=function(e){return e||0===e?String(e).includes("-")||0===e?Math.round(e):"+".concat(Math.round(e)):s.a.createElement("span",{className:"loading thin-small-font"},"loading...")}(e.temp),a=e.temp&&0!==e.temp?"\xb0":"";return s.a.createElement("div",{className:"temperature-container"},s.a.createElement("div",{className:"current"},n,a),s.a.createElement("div",{className:"thin-small-font feels-like"},"but feels like ",t,"\xb0"))}function p(e){var t,n,a=e.description;return e.description?t="http://openweathermap.org/img/wn/"+e.iconId+"@2x.png":(t="https://i.ibb.co/QMmS8X9/arrow-big.png",n="upd-animation",a="loading..."),s.a.createElement("div",{className:"outside-info"},s.a.createElement("img",{className:n,style:{height:"100px",width:"100px"},src:t,alt:a}),s.a.createElement("div",{className:"outside-description thin-small-font"},a))}n(14);var h={humidity:"%",pressure:"bar",wind:"m/s",visibility:"km"};function v(e){var t,n=function(e){var t={};for(var n in e){var a=e[n];isNaN(a)||""===a?(console.warn('Some problem with: "'.concat(n,'".\nIt\'s value is: "').concat(a,'".')),t[n]=null):t[n]=a}return t}(e.info),a=(t=n.visibility)?String((t/1e3).toFixed(1)):null,c=function(e){return e?(+e).toFixed(0):null}(n.wind),r=function(e){return e?(e/750).toFixed(2):null}(n.pressure),i=n.humidity?n.humidity:null;return s.a.createElement("div",{className:"secondary-info-container"},s.a.createElement(g,{info:["pressure",r]}),s.a.createElement(g,{info:["visibility",a]}),s.a.createElement(g,{info:["wind",c]}),s.a.createElement(g,{info:["humidity",i]}))}function g(e){var t=Object(i.a)(e.info,2),n=t[0],a=t[1];return a||(a=s.a.createElement("span",{className:"loading thin-small-font"},"loading..."),n=""),s.a.createElement("div",{className:n},s.a.createElement("div",{className:"name thin-small-font"},n),s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"value"},a),s.a.createElement("div",{className:"metric"},h[n])))}function y(e){var t="update";return e.isLoaded||(t="update upd-animation"),s.a.createElement("img",{src:"https://i.ibb.co/bddFczT/small.png",style:{height:"20px",width:"20px"},className:t,alt:"update",onClick:function(){!function(){if(!e.isLoaded)return void e.alert.createAlert("Loading is in the process already! Please wait.");e.updateWeather(e.city,e.country)}()}})}function b(e){return e.city?s.a.createElement("div",{onClick:function(){e.showForm(!0)},className:"curr-location"},e.city,", ",e.country):s.a.createElement("div",{style:{height:"41px"}})}function E(e){var t=Object(o.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1],r=Object(o.useState)(""),l=Object(i.a)(r,2),u=l[0],m=l[1],d=Object(o.useState)("close"),f=Object(i.a)(d,2),p=f[0],h=f[1],v=Object(o.useRef)();function g(e){var t=e.target.name,n=e.target.value;"city"===t?(c(n),function(e){h(e?"change":"close")}(n)):m(n)}function y(){"close"!==v.current?(e.changeLocation(a.trim(),u.trim()),e.showForm(!1),c(""),m(""),h("close")):e.showForm(!1)}return s.a.createElement("form",{className:"change-location-form",onKeyDown:function(e){if("Enter"===e.key){var t=e.target.closest("form").lastElementChild;v.current=t.value,y()}}},s.a.createElement("input",{autoFocus:!0,placeholder:"London",autoComplete:"off",className:"city-inp location-input",name:"city",type:"text",value:a,onChange:g}),s.a.createElement("input",{placeholder:"GB",autoComplete:"off",className:"coutry-inp location-input",name:"coutry",type:"text",value:u,onChange:g,maxLength:"2"}),s.a.createElement("input",{className:"button",type:"button",onClick:function(e){v.current=e.target.value,y()},value:p}))}n(15);function w(e){var t=Object(o.useState)(!1),n=Object(i.a)(t,2),a=n[0],c=n[1];return a?s.a.createElement(E,{changeLocation:e.changeLocation,showForm:c}):s.a.createElement(b,{city:e.city,country:e.country,showForm:c})}n(16);function N(e){if(!e.alert.isOpen)return null;var t=e.alert.text,n=e.alert.set;function a(e){var t=e.target.className;"close-icon"!==t&&"close-button"!==t||n(!1)}return s.a.createElement("div",{className:"alert-wrapper",onClick:a},s.a.createElement("div",{className:"alert"},s.a.createElement("div",{className:"header"},s.a.createElement("button",{className:"close-button",onClick:a},s.a.createElement("img",{className:"close-icon",src:"https://i.ibb.co/V2fTC1Q/allert-close-button.png",alt:"close"}))),s.a.createElement("div",{className:"body"},s.a.createElement("div",{className:"content"},t))))}function O(e){var t=e.data;return s.a.createElement("div",{className:"widget"},s.a.createElement(w,{changeLocation:e.changeLocation,city:t.city,country:t.country}),s.a.createElement(y,{city:t.city,country:t.country,updateWeather:e.updateWeather,isLoaded:t.dataIsLoaded,alert:e.alert}),s.a.createElement(m,{shiftUTC0:t.date,isLoaded:t.dataIsLoaded}),s.a.createElement(f,{temp:t.temp,feels:t.feelsLike}),s.a.createElement(p,{iconId:t.iconId,description:t.description}),s.a.createElement("hr",{width:"90%",size:"1",color:"#4f4f4f"}),s.a.createElement(v,{info:t.secondaryInfo}),s.a.createElement(N,{alert:e.alert}))}var j="e8afc68129142e12abe4457ecd337411",L={country:null,city:null,temp:null,feelsLike:null,description:null,iconId:null,date:null,secondaryInfo:{wind:null,humidity:null,pressure:null,visibility:null},dataIsLoaded:null};function S(){var e=Object(o.useState)(L),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(o.useRef)(L),r=Object(o.useRef)("London"),l=Object(o.useRef)("GB"),u=Object(o.useState)(!1),m=Object(i.a)(u,2),d=m[0],f=m[1],p=Object(o.useState)(),h=Object(i.a)(p,2),v=h[0],g=h[1];function y(e,t){!function(){var e=Object.assign({},n);e.dataIsLoaded=null,a(e)}(),function(e){return k.apply(this,arguments)}(e,t).then((function(e){c.current=e,a((function(t){return e}))}),(function(e){b(e.message),a(c.current)}))}function b(e){g(e),f(!0)}Object(o.useEffect)((function(){y(r.current,l.current)}),[]);var E={isOpen:d,text:v,set:f,createAlert:b};return s.a.createElement(O,{data:n,updateWeather:y,changeLocation:function(e,t){r.current=e,t?(l.current=t,y(e,t)):y(e)},alert:E})}function k(){return(k=Object(r.a)(c.a.mark((function e(t){var n,a,r,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"",e.prev=1,console.log("http://api.openweathermap.org/data/2.5/weather?q=".concat(t,",").concat(n).concat("&units=metric","&appid=").concat(j)),e.next=5,fetch("http://api.openweathermap.org/data/2.5/weather?q=".concat(t,",").concat(n).concat("&units=metric","&appid=").concat(j));case 5:return r=e.sent,e.next=8,r.json();case 8:if(!((a=e.sent).cod>=400)&&a){e.next=11;break}throw Error();case 11:e.next=25;break;case 13:if(e.prev=13,e.t0=e.catch(1),a){e.next=19;break}throw Error("Request error. Check your connection.");case 19:if("404"!==a.cod){e.next=23;break}throw Error('Message from server: "'.concat(a.message,'".\n      You searched for: city - "').concat(t,'", country - "').concat(n,"\" (country isn't necessary)."));case 23:throw console.log("".concat(e.t0,". Response code: ").concat(a.cod,". Server message: ").concat(a.message)),Error("Unknown error. Try again later.");case 25:return e.abrupt("return",{country:a.sys.country,city:a.name,temp:a.main.temp,feelsLike:a.main.feels_like,description:a.weather[0].description,iconId:a.weather[0].icon,date:a.timezone,secondaryInfo:{wind:String(a.wind.speed),humidity:String(a.main.humidity),pressure:String(a.main.pressure),visibility:String(a.visibility)},dataIsLoaded:Math.random()});case 26:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}u.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(S,null)),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.8dbdd8b0.chunk.js.map